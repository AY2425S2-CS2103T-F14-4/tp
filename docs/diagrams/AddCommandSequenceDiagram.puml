' Enable dark theme
skinparam backgroundColor #1e1e1e
skinparam sequence {
  LifeLineBorderColor White
  LifeLineBackgroundColor #2d2d2d
  ParticipantBorderColor White
  ParticipantBackgroundColor #2d2d2d
  ActorBorderColor White
  ActorBackgroundColor #2d2d2d
  ArrowColor White
  FontColor White
  BoxBackgroundColor #2d2d2d
  BoxBorderColor White
}
@startuml
actor User
participant LogicManager
participant AddCommand
participant Model
participant UniquePersonList
participant Person

== User initiates Add Command ==
User -> LogicManager: add <contact>
LogicManager -> AddCommand: execute(model)

== Check for duplicates ==
AddCommand -> Model: hasPerson(person)
Model -> UniquePersonList: contains(person)
UniquePersonList -> Person: isDuplicateOf(person)

alt Duplicate Found
    UniquePersonList -> Model: return true
    Model -> AddCommand: duplicate found
    AddCommand -> LogicManager: throws CommandException
else No Duplicate
    UniquePersonList -> Model: return false
    AddCommand -> Model: addPerson(person)
end
@enduml

